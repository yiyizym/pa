/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 5);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _Pa = __webpack_require__(1);\n\nvar _Pa2 = _interopRequireDefault(_Pa);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar url = '/list.json';\n(0, _Pa2.default)('#app', url);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcz8zNDc5Il0sIm5hbWVzIjpbInVybCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7O0FBQ0EsSUFBTUEsTUFBTSxZQUFaO0FBQ0Esa0JBQUcsTUFBSCxFQUFXQSxHQUFYIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGEgZnJvbSAnLi9QYS5qcydcbmNvbnN0IHVybCA9ICcvbGlzdC5qc29uJ1xuUGEoJyNhcHAnLCB1cmwpXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbWFpbi5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(4);\n\nvar _scrollManager = __webpack_require__(2);\n\nvar _scrollManager2 = _interopRequireDefault(_scrollManager);\n\nvar _turnPageManager = __webpack_require__(3);\n\nvar _turnPageManager2 = _interopRequireDefault(_turnPageManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MAX_HEIGHT = 1e5;\n\nvar Pa = function Pa(selector, url) {\n    var _this = this;\n\n    if (!(this instanceof Pa)) {\n        return new Pa(selector, url);\n    }\n    this.container = document.querySelector(selector) || document.createElement('div');\n    this.container.classList.add('pa_container');\n    this.url = url;\n\n    this.fetch(url).then(function (resp) {\n        return resp.json();\n    }).then(function () {\n        _this.buildPage();\n        _turnPageManager2.default.init({\n            prevPage: _this.prevPage,\n            currPage: _this.currPage,\n            nextPage: _this.nextPage\n        });\n    });\n};\n\nPa.prototype.fetch = function (url) {\n    return fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n};\n\nPa.prototype.buildPage = function (data) {\n\n    var prevPage = this.prevPage = document.createElement('ul');\n    prevPage.classList.add('prev_page');\n    data['list'].forEach(function (item) {\n        var li = document.createElement('li');\n        li.textContent = item.value;\n        li.setAttribute('id', item.id);\n        prevPage.appendChild(li);\n    });\n\n    var currPage = this.currPage = document.createElement('ul');\n    currPage.classList.add('current_page');\n    data['list'].forEach(function (item) {\n        var li = document.createElement('li');\n        li.textContent = Number(item.value) + 10;\n        li.setAttribute('id', Number(item.id) + 10);\n        currPage.appendChild(li);\n    });\n\n    var nextPage = this.nextPage = document.createElement('ul');\n    nextPage.classList.add('next_page');\n    data['list'].forEach(function (item) {\n        var li = document.createElement('li');\n        li.textContent = Number(item.value) + 20;\n        li.setAttribute('id', Number(item.id) + 20);\n        nextPage.appendChild(li);\n    });\n\n    this.container.appendChild(prevPage);\n    _scrollManager2.default.scrollBy(this.prevPage, MAX_HEIGHT);\n    this.container.appendChild(currPage);\n    this.container.appendChild(nextPage);\n    _scrollManager2.default.scrollBy(this.nextPage, 0);\n};\n\nexports.default = Pa;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvUGEuanM/N2MzYSJdLCJuYW1lcyI6WyJNQVhfSEVJR0hUIiwiUGEiLCJzZWxlY3RvciIsInVybCIsImNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJmZXRjaCIsInRoZW4iLCJyZXNwIiwianNvbiIsImJ1aWxkUGFnZSIsImluaXQiLCJwcmV2UGFnZSIsImN1cnJQYWdlIiwibmV4dFBhZ2UiLCJwcm90b3R5cGUiLCJtZXRob2QiLCJoZWFkZXJzIiwiZGF0YSIsImZvckVhY2giLCJsaSIsInRleHRDb250ZW50IiwiaXRlbSIsInZhbHVlIiwic2V0QXR0cmlidXRlIiwiaWQiLCJhcHBlbmRDaGlsZCIsIk51bWJlciIsInNjcm9sbEJ5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxhQUFhLEdBQW5COztBQUVBLElBQU1DLEtBQUssU0FBTEEsRUFBSyxDQUFVQyxRQUFWLEVBQW9CQyxHQUFwQixFQUF5QjtBQUFBOztBQUNoQyxRQUFJLEVBQUUsZ0JBQWdCRixFQUFsQixDQUFKLEVBQTJCO0FBQ3ZCLGVBQU8sSUFBSUEsRUFBSixDQUFPQyxRQUFQLEVBQWlCQyxHQUFqQixDQUFQO0FBQ0g7QUFDRCxTQUFLQyxTQUFMLEdBQWlCQyxTQUFTQyxhQUFULENBQXVCSixRQUF2QixLQUFvQ0csU0FBU0UsYUFBVCxDQUF1QixLQUF2QixDQUFyRDtBQUNBLFNBQUtILFNBQUwsQ0FBZUksU0FBZixDQUF5QkMsR0FBekIsQ0FBNkIsY0FBN0I7QUFDQSxTQUFLTixHQUFMLEdBQVdBLEdBQVg7O0FBRUEsU0FBS08sS0FBTCxDQUFXUCxHQUFYLEVBQWdCUSxJQUFoQixDQUFxQixnQkFBUTtBQUN6QixlQUFPQyxLQUFLQyxJQUFMLEVBQVA7QUFDSCxLQUZELEVBRUdGLElBRkgsQ0FFUSxZQUFNO0FBQ1YsY0FBS0csU0FBTDtBQUNBLGtDQUFnQkMsSUFBaEIsQ0FBcUI7QUFDakJDLHNCQUFVLE1BQUtBLFFBREU7QUFFakJDLHNCQUFVLE1BQUtBLFFBRkU7QUFHakJDLHNCQUFVLE1BQUtBO0FBSEUsU0FBckI7QUFLSCxLQVREO0FBVUgsQ0FsQkQ7O0FBb0JBakIsR0FBR2tCLFNBQUgsQ0FBYVQsS0FBYixHQUFxQixVQUFVUCxHQUFWLEVBQWU7QUFDaEMsV0FBT08sTUFBTVAsR0FBTixFQUFXO0FBQ2RpQixnQkFBUSxLQURNO0FBRWRDLGlCQUFTO0FBQ0wsNEJBQWdCO0FBRFg7QUFGSyxLQUFYLENBQVA7QUFNSCxDQVBEOztBQVNBcEIsR0FBR2tCLFNBQUgsQ0FBYUwsU0FBYixHQUF5QixVQUFVUSxJQUFWLEVBQWdCOztBQUVyQyxRQUFJTixXQUFXLEtBQUtBLFFBQUwsR0FBZ0JYLFNBQVNFLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBL0I7QUFDQVMsYUFBU1IsU0FBVCxDQUFtQkMsR0FBbkIsQ0FBdUIsV0FBdkI7QUFDQWEsU0FBSyxNQUFMLEVBQWFDLE9BQWIsQ0FBcUIsZ0JBQVE7QUFDekIsWUFBSUMsS0FBS25CLFNBQVNFLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBVDtBQUNBaUIsV0FBR0MsV0FBSCxHQUFpQkMsS0FBS0MsS0FBdEI7QUFDQUgsV0FBR0ksWUFBSCxDQUFnQixJQUFoQixFQUFzQkYsS0FBS0csRUFBM0I7QUFDQWIsaUJBQVNjLFdBQVQsQ0FBcUJOLEVBQXJCO0FBQ0gsS0FMRDs7QUFPQSxRQUFJUCxXQUFXLEtBQUtBLFFBQUwsR0FBZ0JaLFNBQVNFLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBL0I7QUFDQVUsYUFBU1QsU0FBVCxDQUFtQkMsR0FBbkIsQ0FBdUIsY0FBdkI7QUFDQWEsU0FBSyxNQUFMLEVBQWFDLE9BQWIsQ0FBcUIsZ0JBQVE7QUFDekIsWUFBSUMsS0FBS25CLFNBQVNFLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBVDtBQUNBaUIsV0FBR0MsV0FBSCxHQUFpQk0sT0FBT0wsS0FBS0MsS0FBWixJQUFxQixFQUF0QztBQUNBSCxXQUFHSSxZQUFILENBQWdCLElBQWhCLEVBQXNCRyxPQUFPTCxLQUFLRyxFQUFaLElBQWtCLEVBQXhDO0FBQ0FaLGlCQUFTYSxXQUFULENBQXFCTixFQUFyQjtBQUNILEtBTEQ7O0FBT0EsUUFBSU4sV0FBVyxLQUFLQSxRQUFMLEdBQWdCYixTQUFTRSxhQUFULENBQXVCLElBQXZCLENBQS9CO0FBQ0FXLGFBQVNWLFNBQVQsQ0FBbUJDLEdBQW5CLENBQXVCLFdBQXZCO0FBQ0FhLFNBQUssTUFBTCxFQUFhQyxPQUFiLENBQXFCLGdCQUFRO0FBQ3pCLFlBQUlDLEtBQUtuQixTQUFTRSxhQUFULENBQXVCLElBQXZCLENBQVQ7QUFDQWlCLFdBQUdDLFdBQUgsR0FBaUJNLE9BQU9MLEtBQUtDLEtBQVosSUFBcUIsRUFBdEM7QUFDQUgsV0FBR0ksWUFBSCxDQUFnQixJQUFoQixFQUFzQkcsT0FBT0wsS0FBS0csRUFBWixJQUFrQixFQUF4QztBQUNBWCxpQkFBU1ksV0FBVCxDQUFxQk4sRUFBckI7QUFDSCxLQUxEOztBQU9BLFNBQUtwQixTQUFMLENBQWUwQixXQUFmLENBQTJCZCxRQUEzQjtBQUNBLDRCQUFjZ0IsUUFBZCxDQUF1QixLQUFLaEIsUUFBNUIsRUFBc0NoQixVQUF0QztBQUNBLFNBQUtJLFNBQUwsQ0FBZTBCLFdBQWYsQ0FBMkJiLFFBQTNCO0FBQ0EsU0FBS2IsU0FBTCxDQUFlMEIsV0FBZixDQUEyQlosUUFBM0I7QUFDQSw0QkFBY2MsUUFBZCxDQUF1QixLQUFLZCxRQUE1QixFQUFzQyxDQUF0QztBQUNILENBbENEOztrQkFvQ2VqQixFIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ3doYXR3Zy1mZXRjaCdcbmltcG9ydCBzY3JvbGxNYW5hZ2VyIGZyb20gJy4vc2Nyb2xsTWFuYWdlcidcbmltcG9ydCB0dXJuUGFnZU1hbmFnZXIgZnJvbSAnLi90dXJuUGFnZU1hbmFnZXInXG5cbmNvbnN0IE1BWF9IRUlHSFQgPSAxZTU7XG5cbmNvbnN0IFBhID0gZnVuY3Rpb24gKHNlbGVjdG9yLCB1cmwpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUGEpKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGEoc2VsZWN0b3IsIHVybClcbiAgICB9XG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3BhX2NvbnRhaW5lcicpXG4gICAgdGhpcy51cmwgPSB1cmxcblxuICAgIHRoaXMuZmV0Y2godXJsKS50aGVuKHJlc3AgPT4ge1xuICAgICAgICByZXR1cm4gcmVzcC5qc29uKClcbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5idWlsZFBhZ2UoKTtcbiAgICAgICAgdHVyblBhZ2VNYW5hZ2VyLmluaXQoe1xuICAgICAgICAgICAgcHJldlBhZ2U6IHRoaXMucHJldlBhZ2UsXG4gICAgICAgICAgICBjdXJyUGFnZTogdGhpcy5jdXJyUGFnZSxcbiAgICAgICAgICAgIG5leHRQYWdlOiB0aGlzLm5leHRQYWdlXG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuUGEucHJvdG90eXBlLmZldGNoID0gZnVuY3Rpb24gKHVybCkge1xuICAgIHJldHVybiBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9XG4gICAgfSlcbn1cblxuUGEucHJvdG90eXBlLmJ1aWxkUGFnZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG5cbiAgICBsZXQgcHJldlBhZ2UgPSB0aGlzLnByZXZQYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKVxuICAgIHByZXZQYWdlLmNsYXNzTGlzdC5hZGQoJ3ByZXZfcGFnZScpXG4gICAgZGF0YVsnbGlzdCddLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGxldCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJylcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSBpdGVtLnZhbHVlXG4gICAgICAgIGxpLnNldEF0dHJpYnV0ZSgnaWQnLCBpdGVtLmlkKVxuICAgICAgICBwcmV2UGFnZS5hcHBlbmRDaGlsZChsaSlcbiAgICB9KVxuXG4gICAgbGV0IGN1cnJQYWdlID0gdGhpcy5jdXJyUGFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJylcbiAgICBjdXJyUGFnZS5jbGFzc0xpc3QuYWRkKCdjdXJyZW50X3BhZ2UnKVxuICAgIGRhdGFbJ2xpc3QnXS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBsZXQgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpXG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gTnVtYmVyKGl0ZW0udmFsdWUpICsgMTBcbiAgICAgICAgbGkuc2V0QXR0cmlidXRlKCdpZCcsIE51bWJlcihpdGVtLmlkKSArIDEwKVxuICAgICAgICBjdXJyUGFnZS5hcHBlbmRDaGlsZChsaSlcbiAgICB9KVxuXG4gICAgbGV0IG5leHRQYWdlID0gdGhpcy5uZXh0UGFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJylcbiAgICBuZXh0UGFnZS5jbGFzc0xpc3QuYWRkKCduZXh0X3BhZ2UnKVxuICAgIGRhdGFbJ2xpc3QnXS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBsZXQgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpXG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gTnVtYmVyKGl0ZW0udmFsdWUpICsgMjBcbiAgICAgICAgbGkuc2V0QXR0cmlidXRlKCdpZCcsIE51bWJlcihpdGVtLmlkKSArIDIwKVxuICAgICAgICBuZXh0UGFnZS5hcHBlbmRDaGlsZChsaSlcbiAgICB9KVxuXG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQocHJldlBhZ2UpXG4gICAgc2Nyb2xsTWFuYWdlci5zY3JvbGxCeSh0aGlzLnByZXZQYWdlLCBNQVhfSEVJR0hUKVxuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGN1cnJQYWdlKVxuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKG5leHRQYWdlKVxuICAgIHNjcm9sbE1hbmFnZXIuc2Nyb2xsQnkodGhpcy5uZXh0UGFnZSwgMClcbn1cblxuZXhwb3J0IGRlZmF1bHQgUGFcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9QYS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  // left: 37, up: 38, right: 39, down: 40,\n  // spacebar: 32, pageup: 33, pagedown: 34, end: 35, home: 36\n  keys: { 37: 1, 38: 1, 39: 1, 40: 1 },\n  preventDefault: function preventDefault(e) {\n    console.log('catched scroll!');\n    e = e || window.event;\n    if (e.preventDefault) e.preventDefault();\n    e.returnValue = false;\n  },\n  preventDefaultForScrollKeys: function preventDefaultForScrollKeys(e) {\n    if (keys[e.keyCode]) {\n      preventDefault(e);\n      return false;\n    }\n  },\n  disableScroll: function disableScroll(el) {\n    console.log('set up disable scroll');\n    if (el.addEventListener) {\n      // older FF\n      el.addEventListener('DOMMouseScroll', this.preventDefault, false);\n    }\n    el.onwheel = this.preventDefault; // modern standard\n    el.onmousewheel = el.onmousewheel = this.preventDefault; // older browsers, IE\n    el.ontouchmove = this.preventDefault; // mobile\n    el.onscroll = this.preventDefault;\n    el.onkeydown = this.preventDefaultForScrollKeys;\n  },\n\n  enableScroll: function enableScroll(el) {\n    if (el.removeEventListener) {\n      el.removeEventListener('DOMMouseScroll', this.preventDefault, false);\n    }\n    el.onmousewheel = el.onmousewheel = null;\n    el.onwheel = null;\n    el.ontouchmove = null;\n    el.onkeydown = null;\n  },\n\n  scrollBy: function scrollBy(el, num) {\n    console.log('>>>> scrollTop: ', num);\n    el.scrollTop = num;\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2Nyb2xsTWFuYWdlci5qcz8yOWVlIl0sIm5hbWVzIjpbImtleXMiLCJwcmV2ZW50RGVmYXVsdCIsImUiLCJjb25zb2xlIiwibG9nIiwid2luZG93IiwiZXZlbnQiLCJyZXR1cm5WYWx1ZSIsInByZXZlbnREZWZhdWx0Rm9yU2Nyb2xsS2V5cyIsImtleUNvZGUiLCJkaXNhYmxlU2Nyb2xsIiwiZWwiLCJhZGRFdmVudExpc3RlbmVyIiwib253aGVlbCIsIm9ubW91c2V3aGVlbCIsIm9udG91Y2htb3ZlIiwib25zY3JvbGwiLCJvbmtleWRvd24iLCJlbmFibGVTY3JvbGwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2Nyb2xsQnkiLCJudW0iLCJzY3JvbGxUb3AiXSwibWFwcGluZ3MiOiI7Ozs7O2tCQUFlO0FBQ2I7QUFDQTtBQUNBQSxRQUFNLEVBQUMsSUFBSSxDQUFMLEVBQVEsSUFBSSxDQUFaLEVBQWUsSUFBSSxDQUFuQixFQUFzQixJQUFJLENBQTFCLEVBSE87QUFJYkMsa0JBQWdCLHdCQUFVQyxDQUFWLEVBQWE7QUFDM0JDLFlBQVFDLEdBQVIsQ0FBWSxpQkFBWjtBQUNBRixRQUFJQSxLQUFLRyxPQUFPQyxLQUFoQjtBQUNBLFFBQUlKLEVBQUVELGNBQU4sRUFDSUMsRUFBRUQsY0FBRjtBQUNKQyxNQUFFSyxXQUFGLEdBQWdCLEtBQWhCO0FBQ0QsR0FWWTtBQVdiQywrQkFBNkIscUNBQVVOLENBQVYsRUFBYTtBQUN4QyxRQUFJRixLQUFLRSxFQUFFTyxPQUFQLENBQUosRUFBcUI7QUFDakJSLHFCQUFlQyxDQUFmO0FBQ0EsYUFBTyxLQUFQO0FBQ0g7QUFDRixHQWhCWTtBQWlCYlEsaUJBQWUsdUJBQVVDLEVBQVYsRUFBYztBQUMzQlIsWUFBUUMsR0FBUixDQUFZLHVCQUFaO0FBQ0EsUUFBSU8sR0FBR0MsZ0JBQVAsRUFBd0I7QUFBRTtBQUN4QkQsU0FBR0MsZ0JBQUgsQ0FBb0IsZ0JBQXBCLEVBQXNDLEtBQUtYLGNBQTNDLEVBQTJELEtBQTNEO0FBQ0Q7QUFDRFUsT0FBR0UsT0FBSCxHQUFhLEtBQUtaLGNBQWxCLENBTDJCLENBS087QUFDbENVLE9BQUdHLFlBQUgsR0FBa0JILEdBQUdHLFlBQUgsR0FBa0IsS0FBS2IsY0FBekMsQ0FOMkIsQ0FNOEI7QUFDekRVLE9BQUdJLFdBQUgsR0FBa0IsS0FBS2QsY0FBdkIsQ0FQMkIsQ0FPWTtBQUN2Q1UsT0FBR0ssUUFBSCxHQUFjLEtBQUtmLGNBQW5CO0FBQ0FVLE9BQUdNLFNBQUgsR0FBZ0IsS0FBS1QsMkJBQXJCO0FBQ0QsR0EzQlk7O0FBNkJiVSxnQkFBYyxzQkFBVVAsRUFBVixFQUFjO0FBQzFCLFFBQUlBLEdBQUdRLG1CQUFQLEVBQTJCO0FBQ3pCUixTQUFHUSxtQkFBSCxDQUF1QixnQkFBdkIsRUFBeUMsS0FBS2xCLGNBQTlDLEVBQThELEtBQTlEO0FBQ0Q7QUFDRFUsT0FBR0csWUFBSCxHQUFrQkgsR0FBR0csWUFBSCxHQUFrQixJQUFwQztBQUNBSCxPQUFHRSxPQUFILEdBQWEsSUFBYjtBQUNBRixPQUFHSSxXQUFILEdBQWlCLElBQWpCO0FBQ0FKLE9BQUdNLFNBQUgsR0FBZSxJQUFmO0FBQ0QsR0FyQ1k7O0FBdUNiRyxZQUFVLGtCQUFVVCxFQUFWLEVBQWNVLEdBQWQsRUFBbUI7QUFDM0JsQixZQUFRQyxHQUFSLENBQVksa0JBQVosRUFBZ0NpQixHQUFoQztBQUNBVixPQUFHVyxTQUFILEdBQWVELEdBQWY7QUFDRDtBQTFDWSxDIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gIC8vIGxlZnQ6IDM3LCB1cDogMzgsIHJpZ2h0OiAzOSwgZG93bjogNDAsXG4gIC8vIHNwYWNlYmFyOiAzMiwgcGFnZXVwOiAzMywgcGFnZWRvd246IDM0LCBlbmQ6IDM1LCBob21lOiAzNlxuICBrZXlzOiB7Mzc6IDEsIDM4OiAxLCAzOTogMSwgNDA6IDF9LFxuICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKGUpIHtcbiAgICBjb25zb2xlLmxvZygnY2F0Y2hlZCBzY3JvbGwhJylcbiAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgaWYgKGUucHJldmVudERlZmF1bHQpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gIH0sXG4gIHByZXZlbnREZWZhdWx0Rm9yU2Nyb2xsS2V5czogZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoa2V5c1tlLmtleUNvZGVdKSB7XG4gICAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBkaXNhYmxlU2Nyb2xsOiBmdW5jdGlvbiAoZWwpIHtcbiAgICBjb25zb2xlLmxvZygnc2V0IHVwIGRpc2FibGUgc2Nyb2xsJylcbiAgICBpZiAoZWwuYWRkRXZlbnRMaXN0ZW5lcil7IC8vIG9sZGVyIEZGXG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdET01Nb3VzZVNjcm9sbCcsIHRoaXMucHJldmVudERlZmF1bHQsIGZhbHNlKTtcbiAgICB9XG4gICAgZWwub253aGVlbCA9IHRoaXMucHJldmVudERlZmF1bHQ7IC8vIG1vZGVybiBzdGFuZGFyZFxuICAgIGVsLm9ubW91c2V3aGVlbCA9IGVsLm9ubW91c2V3aGVlbCA9IHRoaXMucHJldmVudERlZmF1bHQ7IC8vIG9sZGVyIGJyb3dzZXJzLCBJRVxuICAgIGVsLm9udG91Y2htb3ZlICA9IHRoaXMucHJldmVudERlZmF1bHQ7IC8vIG1vYmlsZVxuICAgIGVsLm9uc2Nyb2xsID0gdGhpcy5wcmV2ZW50RGVmYXVsdDtcbiAgICBlbC5vbmtleWRvd24gID0gdGhpcy5wcmV2ZW50RGVmYXVsdEZvclNjcm9sbEtleXM7XG4gIH0sXG5cbiAgZW5hYmxlU2Nyb2xsOiBmdW5jdGlvbiAoZWwpIHtcbiAgICBpZiAoZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcil7XG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdET01Nb3VzZVNjcm9sbCcsIHRoaXMucHJldmVudERlZmF1bHQsIGZhbHNlKTtcbiAgICB9XG4gICAgZWwub25tb3VzZXdoZWVsID0gZWwub25tb3VzZXdoZWVsID0gbnVsbDtcbiAgICBlbC5vbndoZWVsID0gbnVsbDtcbiAgICBlbC5vbnRvdWNobW92ZSA9IG51bGw7XG4gICAgZWwub25rZXlkb3duID0gbnVsbDtcbiAgfSxcblxuICBzY3JvbGxCeTogZnVuY3Rpb24gKGVsLCBudW0pIHtcbiAgICBjb25zb2xlLmxvZygnPj4+PiBzY3JvbGxUb3A6ICcsIG51bSlcbiAgICBlbC5zY3JvbGxUb3AgPSBudW1cbiAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zY3JvbGxNYW5hZ2VyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar formerPosition = 0,\n    afterPosition = 0,\n    ticking = false,\n    direction,\n    currentPageAtTop = true,\n    currentPageAtBottom = false,\n    turnPageSetted = false,\n    isTurnPage = false,\n    scrollTicking = false,\n    accumulatedDistance = 0;\nexports.default = {\n    init: function init(options) {\n\n        this.prevPage = options.prevPage;\n        this.currPage = options.currPage;\n        this.nextPage = options.nextPage;\n\n        this.currPage.addEventListener('scroll', this.detectPosition);\n\n        document.addEventListener('touchstart', function (e) {\n            formerPosition = e.touches[0].clientY;\n        });\n\n        this.setTurningPageCb();\n\n        this.setTurnedPageCb();\n    },\n    setTurningPageCb: function setTurningPageCb() {\n        var manager = this;\n        document.addEventListener('touchmove', function (e) {\n            if (!ticking) {\n                window.requestAnimationFrame(function () {\n\n                    afterPosition = e.changedTouches[0].clientY;\n\n                    manager.setTurnPage();\n\n                    if (currentPageAtTop && isTurnPage) {\n                        // if (manager.determineDirection() == 'down') {\n                        //     console.log('show previous page')\n                        // } else if (manager.determineDirection() == 'up') {\n                        //     console.log('resume')\n                        // }\n                        manager.prevPage.style.transform = 'translateY(' + Math.max(manager.getAccumulatedDistance(), 0) + 'px)';\n                    } else if (currentPageAtBottom && isTurnPage) {\n                        // if (manager.determineDirection() == 'up') {\n                        //     console.log('show next page')\n                        // } else if (manager.determineDirection() == 'down') {\n                        //     console.log('resume')\n                        // }\n                        manager.currPage.style.transform = 'translateY(' + Math.min(manager.getAccumulatedDistance(), 0) + 'px)';\n                    }\n                    formerPosition = afterPosition;\n                    ticking = false;\n                });\n            }\n            ticking = true;\n        });\n    },\n    setTurnPage: function setTurnPage() {\n        if (turnPageSetted) {\n            console.log('turnPage setted, return');\n            return;\n        }\n        if (currentPageAtBottom && manager.determineDirection() == 'up' || currentPageAtTop && manager.determineDirection() == 'down') {\n            turnPageSetted = true;\n            isTurnPage = true;\n            document.querySelector('.current_page').classList.add('turn_page');\n        }\n        console.log('isTurnPage: ', isTurnPage);\n    },\n    resetTurnPage: function resetTurnPage() {\n        console.log('resetTurnPage');\n        isTurnPage = false;\n        turnPageSetted = false;\n        document.querySelector('.current_page').classList.remove('turn_page');\n    },\n    determineDirection: function determineDirection() {\n        //由旧位置到新位置，如果线径是向上走的，就是 up\n        //由旧位置到新位置，如果线径是向下走的，就是 down\n        var direction = formerPosition > afterPosition ? 'up' : formerPosition < afterPosition ? 'down' : 'equal';\n        console.log('determineDirection: ', direction);\n        return direction;\n    },\n    getAccumulatedDistance: function getAccumulatedDistance() {\n        console.log('former accumulatedDistance: ', accumulatedDistance);\n        //新位置在旧位置的上方，会是负数\n        //新位置在旧位置的下方，会是正数\n        accumulatedDistance += afterPosition - formerPosition;\n        console.log('after accumulatedDistance: ', accumulatedDistance);\n        return accumulatedDistance;\n    },\n    resetAccumulatedDistance: function resetAccumulatedDistance() {\n        console.log('resetAccumulatedDistance');\n        accumulatedDistance = 0;\n    },\n    setTurnedPageCb: function setTurnedPageCb() {\n        var manager = this;\n        document.addEventListener('touchend', function (e) {\n            if (currentPageAtBottom && isTurnPage && manager.getAccumulatedDistance() < -100) {\n                manager.setClazThen(manager.currPage, 'go_up', function () {\n                    manager.turnToNextPage();\n                });\n            } else if (currentPageAtTop && isTurnPage && manager.getAccumulatedDistance() >= 100) {\n                manager.setClazThen(manager.prevPage, 'go_down', function () {\n                    manager.turnToPrevPage();\n                });\n            } else {\n                manager.resetAccumulatedDistance();\n                context.currPage.style.transform = 'translateY(0%)';\n            }\n            manager.resetTurnPage();\n        });\n    },\n    turnToNextPage: function turnToNextPage() {\n        this.currPage.classList.remove('go_up', 'turn_page');\n        this.currPage.style.transform = '';\n\n        this.currPage.removeEventListener('scroll', this.detectPosition);;\n\n        // currPage -> next_page, nextPage -> prev_page, prevPage -> current_page\n        var tempRef = this.currPage;\n        this.currPage = this.nextPage;\n        this.nextPage = this.prevPage;\n        this.prevPage = tempRef;\n\n        currentPageAtTop = true;\n        currentPageAtBottom = false;\n\n        this.currPage.addEventListener('scroll', this.detectPosition);\n        scrollManager.scrollBy(this.prevPage, MAX_HEIGHT);\n        scrollManager.scrollBy(this.nextPage, 0);\n\n        this.nextPage.classList.remove('prev_page');\n        this.nextPage.classList.add('next_page');\n        this.currPage.classList.remove('next_page');\n        this.currPage.classList.add('current_page');\n        this.prevPage.classList.remove('current_page');\n        this.prevPage.classList.add('prev_page');\n    },\n    turnToPrevPage: function turnToPrevPage() {\n        this.prevPage.classList.remove('go_down', 'turn_page');\n\n        this.prevPage.style.transform = '';\n\n        currentPageAtTop = false;\n        currentPageAtBottom = true;\n\n        this.currPage.removeEventListener('scroll', this.detectPosition);\n\n        // currPage -> prev_page, prevPage -> next_page, nextPage -> current_page\n        var tempRef = this.currPage;\n        this.currPage = this.prevPage;\n        this.prevPage = this.nextPage;\n        this.nextPage = tempRef;\n\n        this.currPage.addEventListener('scroll', this.detectPosition);\n        scrollManager.scrollBy(this.prevPage, MAX_HEIGHT);\n        scrollManager.scrollBy(this.nextPage, 0);\n\n        this.nextPage.classList.remove('current_page');\n        this.nextPage.classList.add('next_page');\n        this.currPage.classList.remove('prev_page');\n        this.currPage.classList.add('current_page');\n        this.prevPage.classList.remove('next_page');\n        this.prevPage.classList.add('prev_page');\n    },\n\n\n    setClazThen: function () {\n        var latency = 300;\n        return function (el, clz, cb) {\n            el.classList.add(clz);\n            setTimeout(function () {\n                cb && cb(el);\n            }, latency);\n        };\n    }(),\n\n    detectPosition: function detectPosition() {\n        var _el = this;\n        if (!scrollTicking) {\n            window.requestAnimationFrame(function () {\n                var scrollTop = _el.scrollTop,\n                    scrollBottom = _el.scrollHeight - _el.offsetHeight;\n                currentPageAtTop = scrollTop == 0;\n                currentPageAtBottom = scrollTop == scrollBottom;\n                console.log('currentPageAtTop: ' + currentPageAtTop + ' currentPageAtBottom: ' + currentPageAtBottom);\n                scrollTicking = false;\n            });\n        }\n        scrollTicking = true;\n    }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHVyblBhZ2VNYW5hZ2VyLmpzP2Q4MzkiXSwibmFtZXMiOlsiZm9ybWVyUG9zaXRpb24iLCJhZnRlclBvc2l0aW9uIiwidGlja2luZyIsImRpcmVjdGlvbiIsImN1cnJlbnRQYWdlQXRUb3AiLCJjdXJyZW50UGFnZUF0Qm90dG9tIiwidHVyblBhZ2VTZXR0ZWQiLCJpc1R1cm5QYWdlIiwic2Nyb2xsVGlja2luZyIsImFjY3VtdWxhdGVkRGlzdGFuY2UiLCJpbml0Iiwib3B0aW9ucyIsInByZXZQYWdlIiwiY3VyclBhZ2UiLCJuZXh0UGFnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZXRlY3RQb3NpdGlvbiIsImRvY3VtZW50IiwiZSIsInRvdWNoZXMiLCJjbGllbnRZIiwic2V0VHVybmluZ1BhZ2VDYiIsInNldFR1cm5lZFBhZ2VDYiIsIm1hbmFnZXIiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjaGFuZ2VkVG91Y2hlcyIsInNldFR1cm5QYWdlIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJNYXRoIiwibWF4IiwiZ2V0QWNjdW11bGF0ZWREaXN0YW5jZSIsIm1pbiIsImNvbnNvbGUiLCJsb2ciLCJkZXRlcm1pbmVEaXJlY3Rpb24iLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVzZXRUdXJuUGFnZSIsInJlbW92ZSIsInJlc2V0QWNjdW11bGF0ZWREaXN0YW5jZSIsInNldENsYXpUaGVuIiwidHVyblRvTmV4dFBhZ2UiLCJ0dXJuVG9QcmV2UGFnZSIsImNvbnRleHQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGVtcFJlZiIsInNjcm9sbE1hbmFnZXIiLCJzY3JvbGxCeSIsIk1BWF9IRUlHSFQiLCJsYXRlbmN5IiwiZWwiLCJjbHoiLCJjYiIsInNldFRpbWVvdXQiLCJfZWwiLCJzY3JvbGxUb3AiLCJzY3JvbGxCb3R0b20iLCJzY3JvbGxIZWlnaHQiLCJvZmZzZXRIZWlnaHQiXSwibWFwcGlu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YzBCLFNBQWQsQ0FBd0JDLEdBQXhCLENBQTRCLFdBQTVCO0FBRUgsS0F2S1U7OztBQXlLWEksaUJBQWMsWUFBWTtBQUN0QixZQUFJUyxVQUFVLEdBQWQ7QUFDQSxlQUFPLFVBQVVDLEVBQVYsRUFBY0MsR0FBZCxFQUFtQkMsRUFBbkIsRUFBdUI7QUFDMUJGLGVBQUdmLFNBQUgsQ0FBYUMsR0FBYixDQUFpQmUsR0FBakI7QUFDQUUsdUJBQVcsWUFBWTtBQUNuQkQsc0JBQU1BLEdBQUdGLEVBQUgsQ0FBTjtBQUNILGFBRkQsRUFFR0QsT0FGSDtBQUdILFNBTEQ7QUFNSCxLQVJZLEVBektGOztBQW1MWHBDLGtCQW5MVyw0QkFtTEs7QUFDWixZQUFJeUMsTUFBTSxJQUFWO0FBQ0EsWUFBSSxDQUFDakQsYUFBTCxFQUFvQjtBQUNoQmdCLG1CQUFPQyxxQkFBUCxDQUE2QixZQUFZO0FBQ3JDLG9CQUFJaUMsWUFBWUQsSUFBSUMsU0FBcEI7QUFBQSxvQkFBK0JDLGVBQWVGLElBQUlHLFlBQUosR0FBbUJILElBQUlJLFlBQXJFO0FBQ0F6RCxtQ0FBbUJzRCxhQUFhLENBQWhDO0FBQ0FyRCxzQ0FBc0JxRCxhQUFhQyxZQUFuQztBQUNBekIsd0JBQVFDLEdBQVIsQ0FBWSx1QkFBdUIvQixnQkFBdkIsR0FBMEMsd0JBQTFDLEdBQXFFQyxtQkFBakY7QUFDQUcsZ0NBQWdCLEtBQWhCO0FBQ0gsYUFORDtBQU9IO0FBQ0RBLHdCQUFnQixJQUFoQjtBQUNIO0FBL0xVLEMiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBmb3JtZXJQb3NpdGlvbiA9IDAsXG4gICAgYWZ0ZXJQb3NpdGlvbiA9IDAsXG4gICAgdGlja2luZyA9IGZhbHNlLFxuICAgIGRpcmVjdGlvbixcbiAgICBjdXJyZW50UGFnZUF0VG9wID0gdHJ1ZSxcbiAgICBjdXJyZW50UGFnZUF0Qm90dG9tID0gZmFsc2UsXG4gICAgdHVyblBhZ2VTZXR0ZWQgPSBmYWxzZSxcbiAgICBpc1R1cm5QYWdlID0gZmFsc2UsXG4gICAgc2Nyb2xsVGlja2luZyA9IGZhbHNlLFxuICAgIGFjY3VtdWxhdGVkRGlzdGFuY2UgPSAwO1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIGluaXQob3B0aW9ucykge1xuXG4gICAgICAgIHRoaXMucHJldlBhZ2UgPSBvcHRpb25zLnByZXZQYWdlO1xuICAgICAgICB0aGlzLmN1cnJQYWdlID0gb3B0aW9ucy5jdXJyUGFnZTtcbiAgICAgICAgdGhpcy5uZXh0UGFnZSA9IG9wdGlvbnMubmV4dFBhZ2U7XG5cbiAgICAgICAgdGhpcy5jdXJyUGFnZS5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmRldGVjdFBvc2l0aW9uKTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZSA9PiB7XG4gICAgICAgICAgICBmb3JtZXJQb3NpdGlvbiA9IGUudG91Y2hlc1swXS5jbGllbnRZXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5zZXRUdXJuaW5nUGFnZUNiKClcblxuICAgICAgICB0aGlzLnNldFR1cm5lZFBhZ2VDYigpXG5cbiAgICB9LFxuICAgIHNldFR1cm5pbmdQYWdlQ2IoKSB7XG4gICAgICAgIHZhciBtYW5hZ2VyID0gdGhpcztcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRpY2tpbmcpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICBhZnRlclBvc2l0aW9uID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZXG5cbiAgICAgICAgICAgICAgICAgICAgbWFuYWdlci5zZXRUdXJuUGFnZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UGFnZUF0VG9wICYmIGlzVHVyblBhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChtYW5hZ2VyLmRldGVybWluZURpcmVjdGlvbigpID09ICdkb3duJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdzaG93IHByZXZpb3VzIHBhZ2UnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSBlbHNlIGlmIChtYW5hZ2VyLmRldGVybWluZURpcmVjdGlvbigpID09ICd1cCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZygncmVzdW1lJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1hbmFnZXIucHJldlBhZ2Uuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoJyArIE1hdGgubWF4KG1hbmFnZXIuZ2V0QWNjdW11bGF0ZWREaXN0YW5jZSgpLCAwKSArICdweCknO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRQYWdlQXRCb3R0b20gJiYgaXNUdXJuUGFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKG1hbmFnZXIuZGV0ZXJtaW5lRGlyZWN0aW9uKCkgPT0gJ3VwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdzaG93IG5leHQgcGFnZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgaWYgKG1hbmFnZXIuZGV0ZXJtaW5lRGlyZWN0aW9uKCkgPT0gJ2Rvd24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ3Jlc3VtZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5hZ2VyLmN1cnJQYWdlLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKCcgKyBNYXRoLm1pbihtYW5hZ2VyLmdldEFjY3VtdWxhdGVkRGlzdGFuY2UoKSwgMCkgKyAncHgpJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3JtZXJQb3NpdGlvbiA9IGFmdGVyUG9zaXRpb247XG4gICAgICAgICAgICAgICAgICAgIHRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpY2tpbmcgPSB0cnVlO1xuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICBzZXRUdXJuUGFnZSgpIHtcbiAgICAgICAgaWYgKHR1cm5QYWdlU2V0dGVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndHVyblBhZ2Ugc2V0dGVkLCByZXR1cm4nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoY3VycmVudFBhZ2VBdEJvdHRvbSAmJiBtYW5hZ2VyLmRldGVybWluZURpcmVjdGlvbigpID09ICd1cCcpIHx8XG4gICAgICAgICAgICAoY3VycmVudFBhZ2VBdFRvcCAmJiBtYW5hZ2VyLmRldGVybWluZURpcmVjdGlvbigpID09ICdkb3duJykpIHtcbiAgICAgICAgICAgIHR1cm5QYWdlU2V0dGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlzVHVyblBhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmN1cnJlbnRfcGFnZScpLmNsYXNzTGlzdC5hZGQoJ3R1cm5fcGFnZScpXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coJ2lzVHVyblBhZ2U6ICcsIGlzVHVyblBhZ2UpO1xuICAgIH0sXG5cbiAgICByZXNldFR1cm5QYWdlKCkge1xuICAgICAgICBjb25zb2xlLmxvZygncmVzZXRUdXJuUGFnZScpXG4gICAgICAgIGlzVHVyblBhZ2UgPSBmYWxzZTtcbiAgICAgICAgdHVyblBhZ2VTZXR0ZWQgPSBmYWxzZTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmN1cnJlbnRfcGFnZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3R1cm5fcGFnZScpXG4gICAgfSxcblxuICAgIGRldGVybWluZURpcmVjdGlvbigpIHtcbiAgICAgICAgLy/nlLHml6fkvY3nva7liLDmlrDkvY3nva7vvIzlpoLmnpznur/lvoTmmK/lkJHkuIrotbDnmoTvvIzlsLHmmK8gdXBcbiAgICAgICAgLy/nlLHml6fkvY3nva7liLDmlrDkvY3nva7vvIzlpoLmnpznur/lvoTmmK/lkJHkuIvotbDnmoTvvIzlsLHmmK8gZG93blxuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZm9ybWVyUG9zaXRpb24gPiBhZnRlclBvc2l0aW9uID8gJ3VwJyA6IGZvcm1lclBvc2l0aW9uIDwgYWZ0ZXJQb3NpdGlvbiA/ICdkb3duJyA6ICdlcXVhbCc7XG4gICAgICAgIGNvbnNvbGUubG9nKCdkZXRlcm1pbmVEaXJlY3Rpb246ICcsIGRpcmVjdGlvbik7XG4gICAgICAgIHJldHVybiBkaXJlY3Rpb247XG4gICAgfSxcblxuICAgIGdldEFjY3VtdWxhdGVkRGlzdGFuY2UoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmb3JtZXIgYWNjdW11bGF0ZWREaXN0YW5jZTogJywgYWNjdW11bGF0ZWREaXN0YW5jZSk7XG4gICAgICAgIC8v5paw5L2N572u5Zyo5pen5L2N572u55qE5LiK5pa577yM5Lya5piv6LSf5pWwXG4gICAgICAgIC8v5paw5L2N572u5Zyo5pen5L2N572u55qE5LiL5pa577yM5Lya5piv5q2j5pWwXG4gICAgICAgIGFjY3VtdWxhdGVkRGlzdGFuY2UgKz0gYWZ0ZXJQb3NpdGlvbiAtIGZvcm1lclBvc2l0aW9uO1xuICAgICAgICBjb25zb2xlLmxvZygnYWZ0ZXIgYWNjdW11bGF0ZWREaXN0YW5jZTogJywgYWNjdW11bGF0ZWREaXN0YW5jZSk7XG4gICAgICAgIHJldHVybiBhY2N1bXVsYXRlZERpc3RhbmNlO1xuICAgIH0sXG4gICAgcmVzZXRBY2N1bXVsYXRlZERpc3RhbmNlKCkge1xuICAgICAgICBjb25zb2xlLmxvZygncmVzZXRBY2N1bXVsYXRlZERpc3RhbmNlJylcbiAgICAgICAgYWNjdW11bGF0ZWREaXN0YW5jZSA9IDA7XG4gICAgfSxcblxuICAgIHNldFR1cm5lZFBhZ2VDYigpIHtcbiAgICAgICAgdmFyIG1hbmFnZXIgPSB0aGlzO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGUgPT4ge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWdlQXRCb3R0b20gJiYgaXNUdXJuUGFnZSAmJiBtYW5hZ2VyLmdldEFjY3VtdWxhdGVkRGlzdGFuY2UoKSA8IC0xMDApIHtcbiAgICAgICAgICAgICAgICBtYW5hZ2VyLnNldENsYXpUaGVuKG1hbmFnZXIuY3VyclBhZ2UsICdnb191cCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFuYWdlci50dXJuVG9OZXh0UGFnZSgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRQYWdlQXRUb3AgJiYgaXNUdXJuUGFnZSAmJiBtYW5hZ2VyLmdldEFjY3VtdWxhdGVkRGlzdGFuY2UoKSA+PSAxMDApIHtcbiAgICAgICAgICAgICAgICBtYW5hZ2VyLnNldENsYXpUaGVuKG1hbmFnZXIucHJldlBhZ2UsICdnb19kb3duJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBtYW5hZ2VyLnR1cm5Ub1ByZXZQYWdlKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWFuYWdlci5yZXNldEFjY3VtdWxhdGVkRGlzdGFuY2UoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJQYWdlLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDAlKSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYW5hZ2VyLnJlc2V0VHVyblBhZ2UoKTtcbiAgICAgICAgfSlcbiAgICB9LFxuXG4gICAgdHVyblRvTmV4dFBhZ2UoKSB7XG4gICAgICAgIHRoaXMuY3VyclBhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnZ29fdXAnLCAndHVybl9wYWdlJyk7XG4gICAgICAgIHRoaXMuY3VyclBhZ2Uuc3R5bGUudHJhbnNmb3JtID0gJyc7XG5cbiAgICAgICAgdGhpcy5jdXJyUGFnZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmRldGVjdFBvc2l0aW9uKTs7XG5cbiAgICAgICAgLy8gY3VyclBhZ2UgLT4gbmV4dF9wYWdlLCBuZXh0UGFnZSAtPiBwcmV2X3BhZ2UsIHByZXZQYWdlIC0+IGN1cnJlbnRfcGFnZVxuICAgICAgICB2YXIgdGVtcFJlZiA9IHRoaXMuY3VyclBhZ2U7XG4gICAgICAgIHRoaXMuY3VyclBhZ2UgPSB0aGlzLm5leHRQYWdlO1xuICAgICAgICB0aGlzLm5leHRQYWdlID0gdGhpcy5wcmV2UGFnZTtcbiAgICAgICAgdGhpcy5wcmV2UGFnZSA9IHRlbXBSZWY7XG5cbiAgICAgICAgY3VycmVudFBhZ2VBdFRvcCA9IHRydWU7XG4gICAgICAgIGN1cnJlbnRQYWdlQXRCb3R0b20gPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmN1cnJQYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuZGV0ZWN0UG9zaXRpb24pO1xuICAgICAgICBzY3JvbGxNYW5hZ2VyLnNjcm9sbEJ5KHRoaXMucHJldlBhZ2UsIE1BWF9IRUlHSFQpO1xuICAgICAgICBzY3JvbGxNYW5hZ2VyLnNjcm9sbEJ5KHRoaXMubmV4dFBhZ2UsIDApO1xuXG4gICAgICAgIHRoaXMubmV4dFBhZ2UuY2xhc3NMaXN0LnJlbW92ZSgncHJldl9wYWdlJylcbiAgICAgICAgdGhpcy5uZXh0UGFnZS5jbGFzc0xpc3QuYWRkKCduZXh0X3BhZ2UnKTtcbiAgICAgICAgdGhpcy5jdXJyUGFnZS5jbGFzc0xpc3QucmVtb3ZlKCduZXh0X3BhZ2UnKVxuICAgICAgICB0aGlzLmN1cnJQYWdlLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnRfcGFnZScpO1xuICAgICAgICB0aGlzLnByZXZQYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnRfcGFnZScpXG4gICAgICAgIHRoaXMucHJldlBhZ2UuY2xhc3NMaXN0LmFkZCgncHJldl9wYWdlJyk7XG5cbiAgICB9LFxuXG4gICAgdHVyblRvUHJldlBhZ2UoKSB7XG4gICAgICAgIHRoaXMucHJldlBhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnZ29fZG93bicsICd0dXJuX3BhZ2UnKVxuXG4gICAgICAgIHRoaXMucHJldlBhZ2Uuc3R5bGUudHJhbnNmb3JtID0gJyc7XG5cbiAgICAgICAgY3VycmVudFBhZ2VBdFRvcCA9IGZhbHNlO1xuICAgICAgICBjdXJyZW50UGFnZUF0Qm90dG9tID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmN1cnJQYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuZGV0ZWN0UG9zaXRpb24pO1xuXG4gICAgICAgIC8vIGN1cnJQYWdlIC0+IHByZXZfcGFnZSwgcHJldlBhZ2UgLT4gbmV4dF9wYWdlLCBuZXh0UGFnZSAtPiBjdXJyZW50X3BhZ2VcbiAgICAgICAgdmFyIHRlbXBSZWYgPSB0aGlzLmN1cnJQYWdlO1xuICAgICAgICB0aGlzLmN1cnJQYWdlID0gdGhpcy5wcmV2UGFnZTtcbiAgICAgICAgdGhpcy5wcmV2UGFnZSA9IHRoaXMubmV4dFBhZ2U7XG4gICAgICAgIHRoaXMubmV4dFBhZ2UgPSB0ZW1wUmVmO1xuXG4gICAgICAgIHRoaXMuY3VyclBhZ2UuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5kZXRlY3RQb3NpdGlvbik7XG4gICAgICAgIHNjcm9sbE1hbmFnZXIuc2Nyb2xsQnkodGhpcy5wcmV2UGFnZSwgTUFYX0hFSUdIVCk7XG4gICAgICAgIHNjcm9sbE1hbmFnZXIuc2Nyb2xsQnkodGhpcy5uZXh0UGFnZSwgMCk7XG5cbiAgICAgICAgdGhpcy5uZXh0UGFnZS5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50X3BhZ2UnKVxuICAgICAgICB0aGlzLm5leHRQYWdlLmNsYXNzTGlzdC5hZGQoJ25leHRfcGFnZScpO1xuICAgICAgICB0aGlzLmN1cnJQYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZXZfcGFnZScpXG4gICAgICAgIHRoaXMuY3VyclBhZ2UuY2xhc3NMaXN0LmFkZCgnY3VycmVudF9wYWdlJyk7XG4gICAgICAgIHRoaXMucHJldlBhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnbmV4dF9wYWdlJylcbiAgICAgICAgdGhpcy5wcmV2UGFnZS5jbGFzc0xpc3QuYWRkKCdwcmV2X3BhZ2UnKTtcblxuICAgIH0sXG5cbiAgICBzZXRDbGF6VGhlbjogKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxhdGVuY3kgPSAzMDA7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWwsIGNseiwgY2IpIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2x6KTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNiICYmIGNiKGVsKTtcbiAgICAgICAgICAgIH0sIGxhdGVuY3kpO1xuICAgICAgICB9XG4gICAgfSkoKSxcblxuICAgIGRldGVjdFBvc2l0aW9uKCl7XG4gICAgICAgIHZhciBfZWwgPSB0aGlzO1xuICAgICAgICBpZiAoIXNjcm9sbFRpY2tpbmcpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSBfZWwuc2Nyb2xsVG9wLCBzY3JvbGxCb3R0b20gPSBfZWwuc2Nyb2xsSGVpZ2h0IC0gX2VsLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZUF0VG9wID0gc2Nyb2xsVG9wID09IDA7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2VBdEJvdHRvbSA9IHNjcm9sbFRvcCA9PSBzY3JvbGxCb3R0b207XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2N1cnJlbnRQYWdlQXRUb3A6ICcgKyBjdXJyZW50UGFnZUF0VG9wICsgJyBjdXJyZW50UGFnZUF0Qm90dG9tOiAnICsgY3VycmVudFBhZ2VBdEJvdHRvbSk7XG4gICAgICAgICAgICAgICAgc2Nyb2xsVGlja2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBzY3JvbGxUaWNraW5nID0gdHJ1ZTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3R1cm5QYWdlTWFuYWdlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, exports) {

eval("(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3doYXR3Zy1mZXRjaC9mZXRjaC5qcz8xYzIwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3Q0FBd0MsbUJBQW1CO0FBQzNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtDQUFrQyxvQkFBb0I7QUFDdEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0NBQXdDLDRCQUE0QjtBQUNwRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsaUJBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RCxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1QsOEVBQThFO0FBQzlFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOEJBQThCLHVCQUF1QjtBQUNyRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLHVDQUF1QywwQkFBMEI7QUFDakU7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtCQUErQiwwQkFBMEIsZUFBZTtBQUN4RTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oc2VsZikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgaWYgKHNlbGYuZmV0Y2gpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBzdXBwb3J0ID0ge1xuICAgIHNlYXJjaFBhcmFtczogJ1VSTFNlYXJjaFBhcmFtcycgaW4gc2VsZixcbiAgICBpdGVyYWJsZTogJ1N5bWJvbCcgaW4gc2VsZiAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcbiAgICBibG9iOiAnRmlsZVJlYWRlcicgaW4gc2VsZiAmJiAnQmxvYicgaW4gc2VsZiAmJiAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXcgQmxvYigpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSkoKSxcbiAgICBmb3JtRGF0YTogJ0Zvcm1EYXRhJyBpbiBzZWxmLFxuICAgIGFycmF5QnVmZmVyOiAnQXJyYXlCdWZmZXInIGluIHNlbGZcbiAgfVxuXG4gIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gICAgdmFyIHZpZXdDbGFzc2VzID0gW1xuICAgICAgJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nXG4gICAgXVxuXG4gICAgdmFyIGlzRGF0YVZpZXcgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgRGF0YVZpZXcucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yob2JqKVxuICAgIH1cblxuICAgIHZhciBpc0FycmF5QnVmZmVyVmlldyA9IEFycmF5QnVmZmVyLmlzVmlldyB8fCBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdmlld0NsYXNzZXMuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkgPiAtMVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWUobmFtZSkge1xuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWUgPSBTdHJpbmcobmFtZSlcbiAgICB9XG4gICAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXFxeX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG4gICAgfVxuICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIC8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG4gIGZ1bmN0aW9uIGl0ZXJhdG9yRm9yKGl0ZW1zKSB7XG4gICAgdmFyIGl0ZXJhdG9yID0ge1xuICAgICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1zLnNoaWZ0KClcbiAgICAgICAgcmV0dXJuIHtkb25lOiB2YWx1ZSA9PT0gdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZXJhdG9yXG4gIH1cblxuICBmdW5jdGlvbiBIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICB0aGlzLm1hcCA9IHt9XG5cbiAgICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCB2YWx1ZSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKGhlYWRlclswXSwgaGVhZGVyWzFdKVxuICAgICAgfSwgdGhpcylcbiAgICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKVxuICAgICAgfSwgdGhpcylcbiAgICB9XG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gICAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLm1hcFtuYW1lXVxuICAgIHRoaXMubWFwW25hbWVdID0gb2xkVmFsdWUgPyBvbGRWYWx1ZSsnLCcrdmFsdWUgOiB2YWx1ZVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuICAgIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gICAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5tYXBbbmFtZV0gOiBudWxsXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5vcm1hbGl6ZU5hbWUobmFtZSkpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMubWFwKSB7XG4gICAgICBpZiAodGhpcy5tYXAuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzLm1hcFtuYW1lXSwgbmFtZSwgdGhpcylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChuYW1lKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW1zLnB1c2godmFsdWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2goW25hbWUsIHZhbHVlXSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG4gIH1cblxuICBmdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG4gICAgaWYgKGJvZHkuYm9keVVzZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcbiAgICB9XG4gICAgYm9keS5ib2R5VXNlZCA9IHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICAgIH1cbiAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgICByZWFkZXIucmVhZEFzVGV4dChibG9iKVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQXJyYXlCdWZmZXJBc1RleHQoYnVmKSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpXG4gICAgdmFyIGNoYXJzID0gbmV3IEFycmF5KHZpZXcubGVuZ3RoKVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjaGFyc1tpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUodmlld1tpXSlcbiAgICB9XG4gICAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG4gIH1cblxuICBmdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgICByZXR1cm4gYnVmLnNsaWNlKDApXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ5dGVMZW5ndGgpXG4gICAgICB2aWV3LnNldChuZXcgVWludDhBcnJheShidWYpKVxuICAgICAgcmV0dXJuIHZpZXcuYnVmZmVyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gQm9keSgpIHtcbiAgICB0aGlzLmJvZHlVc2VkID0gZmFsc2VcblxuICAgIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgdGhpcy5fYm9keUluaXQgPSBib2R5XG4gICAgICBpZiAoIWJvZHkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSAnJ1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keS50b1N0cmluZygpXG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgc3VwcG9ydC5ibG9iICYmIGlzRGF0YVZpZXcoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpXG4gICAgICAgIC8vIElFIDEwLTExIGNhbid0IGhhbmRsZSBhIERhdGFWaWV3IGJvZHkuXG4gICAgICAgIHRoaXMuX2JvZHlJbml0ID0gbmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pXG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpKSkge1xuICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnN1cHBvcnRlZCBCb2R5SW5pdCB0eXBlJylcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuICAgICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpXG4gICAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnN1bWVkKHRoaXMpIHx8IFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRCbG9iQXNUZXh0KHRoaXMuX2JvZHlCbG9iKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWFkQXJyYXlCdWZmZXJBc1RleHQodGhpcy5fYm9keUFycmF5QnVmZmVyKSlcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0JylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuZm9ybURhdGEpIHtcbiAgICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG4gIHZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddXG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCkge1xuICAgIHZhciB1cGNhc2VkID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcbiAgICByZXR1cm4gKG1ldGhvZHMuaW5kZXhPZih1cGNhc2VkKSA+IC0xKSA/IHVwY2FzZWQgOiBtZXRob2RcbiAgfVxuXG4gIGZ1bmN0aW9uIFJlcXVlc3QoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG5cbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICAgIH1cbiAgICAgIHRoaXMudXJsID0gaW5wdXQudXJsXG4gICAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpXG4gICAgICB9XG4gICAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZFxuICAgICAgdGhpcy5tb2RlID0gaW5wdXQubW9kZVxuICAgICAgaWYgKCFib2R5ICYmIGlucHV0Ll9ib2R5SW5pdCAhPSBudWxsKSB7XG4gICAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcbiAgICAgICAgaW5wdXQuYm9keVVzZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXJsID0gU3RyaW5nKGlucHV0KVxuICAgIH1cblxuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ29taXQnXG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG4gICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gICAgfVxuICAgIHRoaXMubWV0aG9kID0gbm9ybWFsaXplTWV0aG9kKG9wdGlvbnMubWV0aG9kIHx8IHRoaXMubWV0aG9kIHx8ICdHRVQnKVxuICAgIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbFxuICAgIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cbiAgICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG4gICAgfVxuICAgIHRoaXMuX2luaXRCb2R5KGJvZHkpXG4gIH1cblxuICBSZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzLCB7IGJvZHk6IHRoaXMuX2JvZHlJbml0IH0pXG4gIH1cblxuICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKClcbiAgICBib2R5LnRyaW0oKS5zcGxpdCgnJicpLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGlmIChieXRlcykge1xuICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG4gICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGZvcm1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhyYXdIZWFkZXJzKSB7XG4gICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpXG4gICAgcmF3SGVhZGVycy5zcGxpdCgvXFxyP1xcbi8pLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpXG4gICAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKS50cmltKClcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcGFydHMuam9pbignOicpLnRyaW0oKVxuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGhlYWRlcnNcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSlcblxuICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgfVxuXG4gICAgdGhpcy50eXBlID0gJ2RlZmF1bHQnXG4gICAgdGhpcy5zdGF0dXMgPSAnc3RhdHVzJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXMgOiAyMDBcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gJ3N0YXR1c1RleHQnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXR1c1RleHQgOiAnT0snXG4gICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJydcbiAgICB0aGlzLl9pbml0Qm9keShib2R5SW5pdClcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXNwb25zZS5wcm90b3R5cGUpXG5cbiAgUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgICB1cmw6IHRoaXMudXJsXG4gICAgfSlcbiAgfVxuXG4gIFJlc3BvbnNlLmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnfSlcbiAgICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuICAgIHJldHVybiByZXNwb25zZVxuICB9XG5cbiAgdmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cbiAgUmVzcG9uc2UucmVkaXJlY3QgPSBmdW5jdGlvbih1cmwsIHN0YXR1cykge1xuICAgIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcbiAgfVxuXG4gIHNlbGYuSGVhZGVycyA9IEhlYWRlcnNcbiAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdFxuICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2VcblxuICBzZWxmLmZldGNoID0gZnVuY3Rpb24oaW5wdXQsIGluaXQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgfHwgJycpXG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy51cmwgPSAncmVzcG9uc2VVUkwnIGluIHhociA/IHhoci5yZXNwb25zZVVSTCA6IG9wdGlvbnMuaGVhZGVycy5nZXQoJ1gtUmVxdWVzdC1VUkwnKVxuICAgICAgICB2YXIgYm9keSA9ICdyZXNwb25zZScgaW4geGhyID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dFxuICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfVxuXG4gICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpXG5cbiAgICAgIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnaW5jbHVkZScpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICAgIH1cblxuICAgICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhociAmJiBzdXBwb3J0LmJsb2IpIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJ1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSlcbiAgICAgIH0pXG5cbiAgICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpXG4gICAgfSlcbiAgfVxuICBzZWxmLmZldGNoLnBvbHlmaWxsID0gdHJ1ZVxufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3doYXR3Zy1mZXRjaC9mZXRjaC5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(0);


/***/ })
/******/ ]);